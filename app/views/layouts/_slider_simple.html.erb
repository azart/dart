<ul class="cb-slideshow">
  <% delay = 13 %>
  <% @unit.unit_images.each do |cover| %>
      <li>
            <span>
              <%= "#{cover.unit.title} #{cover.title}" %>
            </span>
      </li>
  <% end %>
</ul>

<style type="text/css">
    .cb-slideshow li span {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0px;
        left: 0px;
        color: transparent;
        background-size: cover;
        background-position: 50% 50%;
        background-repeat: none;
        opacity: 0;
        z-index: 0;
        -webkit-backface-visibility: hidden;
        -webkit-animation: imageAnimation <%= @unit.unit_images.count*delay %>s linear infinite 0s;
        -moz-animation: imageAnimation <%= @unit.unit_images.count*delay %>s linear infinite 0s;
        -o-animation: imageAnimation <%= @unit.unit_images.count*delay %>s linear infinite 0s;
        -ms-animation: imageAnimation <%= @unit.unit_images.count*delay %>s linear infinite 0s;
        animation: imageAnimation <%= @unit.unit_images.count*delay %>s linear infinite 0s;
    }

    <% @unit.unit_images.each_with_index do |cover, i| %>
    .cb-slideshow li:nth-child(<%= i+1 %>) span {
        background-image: url(<%= cover.image.url(:big)%>);
    <% if i > 0 %> -webkit-animation-delay: <%= (i)*delay %>s;
        -moz-animation-delay: <%= (i)*delay %>s;
        -o-animation-delay: <%= (i)*delay %>s;
        -ms-animation-delay: <%= (i)*delay %>s;
        animation-delay: <%= (i)*delay %>s;
    <% end %>
    }
    <% end %>
</style>